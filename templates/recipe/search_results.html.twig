{% extends 'base.html.twig' %}

{% block title %}Résultats pour "{{ query }}"
{% endblock %}

{% block body %}
	<div class="uk-container">
		<h1>Résultats pour "{{ query }}"</h1>
		{% if recipes is not empty %}
			<div class="uk-child-width-1-2 uk-child-width-1-3@s" data-uk-grid>
				{% for recipe in recipes %}
					<div>
						<div class="uk-card uk-card-default uk-card-hover uk-card-body fixed-card-height">
							<div class="uk-card-media-top">
								{% if recipe.images|length > 0 %}
									<!-- Affiche la première image de la collection -->
									<img class="uk-border-rounded-medium fixed-image" src="{{ asset('uploads/recipes/' ~ recipe.images|first.imagePath) }}" alt="{{ recipe.name }}">
								{% else %}
									<!-- Image par défaut si aucune image n'est disponible -->
									<img class="uk-border-rounded-medium fixed-image" src="{{ asset('img/default-image.jpg') }}" alt="{{ recipe.name }}">
								{% endif %}
								<div class="uk-position-cover uk-card-overlay uk-border-rounded-medium"></div>
							</div>
							<div>
								<h3 class="uk-card-title uk-text-500 uk-margin-small-bottom uk-margin-top">{{ recipe.name }}</h3>
							</div>
							<a href="{{ path('app_recipe_details', { slug: recipe.slug }) }}" class="uk-position-cover"></a>
						</div>
					</div>
				{% endfor %}
			</div>
		{% else %}
			<p>Aucune recette trouvée pour "{{ query }}"</p>
		{% endif %}
	</div>
{% endblock %}
