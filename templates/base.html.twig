<!DOCTYPE html>
<html lang="fr" dir="ltr" prefix="og: https://ogp.me/ns#">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		
		<!-- SEO Meta Tags -->
		<title>{% block title %}KocinaSpeed - Recettes Rapides et Délicieuses | Cuisine Française{% endblock %}</title>
		<meta name="description" content="{% block meta_description %}Découvrez KocinaSpeed, votre plateforme de recettes rapides et délicieuses. Plus de 100 recettes françaises faciles à préparer avec vidéos, photos et avis communauté. Cuisine rapide, desserts, plats principaux et apéritifs.{% endblock %}">
		<meta name="keywords" content="{% block meta_keywords %}recettes rapides, cuisine française, recettes faciles, cuisine maison, desserts, plats principaux, apéritifs, recettes avec photos, vidéos cuisine, avis recettes, KocinaSpeed{% endblock %}">
		<meta name="author" content="KocinaSpeed - Christophe Mostefaoui">
		<meta name="robots" content="{% block robots %}index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1{% endblock %}">
		<meta name="googlebot" content="index, follow">
		<meta name="bingbot" content="index, follow">
		
		<!-- Canonical URL -->
		<link rel="canonical" href="{% block canonical %}{{ app.request.uri }}{% endblock %}">
		
		<!-- Hreflang for international SEO -->
		<link rel="alternate" hreflang="fr" href="{{ app.request.schemeAndHttpHost }}{{ app.request.requestUri }}">
		<link rel="alternate" hreflang="fr-FR" href="{{ app.request.schemeAndHttpHost }}{{ app.request.requestUri }}">
		<link rel="alternate" hreflang="x-default" href="{{ app.request.schemeAndHttpHost }}{{ app.request.requestUri }}">
		
		<!-- Open Graph Meta Tags -->
		<meta property="og:type" content="{% block og_type %}website{% endblock %}">
		<meta property="og:title" content="{% block og_title %}{{ block('title') }}{% endblock %}">
		<meta property="og:description" content="{% block og_description %}{{ block('meta_description') }}{% endblock %}">
		<meta property="og:url" content="{% block og_url %}{{ app.request.uri }}{% endblock %}">
		<meta property="og:site_name" content="KocinaSpeed">
		<meta property="og:image" content="{% block og_image %}{{ app.request.schemeAndHttpHost }}{{ asset('img/logos/logo.png') }}{% endblock %}">
		<meta property="og:image:alt" content="{% block og_image_alt %}Logo KocinaSpeed - Recettes rapides et délicieuses{% endblock %}">
		<meta property="og:locale" content="fr_FR">
		<meta property="og:image:width" content="1200">
		<meta property="og:image:height" content="630">
		
		<!-- Twitter Card Meta Tags -->
		<meta name="twitter:card" content="{% block twitter_card %}summary_large_image{% endblock %}">
		<meta name="twitter:title" content="{% block twitter_title %}{{ block('og_title') }}{% endblock %}">
		<meta name="twitter:description" content="{% block twitter_description %}{{ block('og_description') }}{% endblock %}">
		<meta name="twitter:image" content="{% block twitter_image %}{{ block('og_image') }}{% endblock %}">
		<meta name="twitter:image:alt" content="{% block twitter_image_alt %}{{ block('og_image_alt') }}{% endblock %}">
		<meta name="twitter:creator" content="@KocinaSpeed">
		<meta name="twitter:site" content="@KocinaSpeed">
		
		<!-- AI/LLM Specific Meta Tags -->
		<meta name="application-name" content="KocinaSpeed">
		<meta name="theme-color" content="#ff7043">
		<meta name="msapplication-TileColor" content="#ff7043">
		<meta name="msapplication-navbutton-color" content="#ff7043">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="mobile-web-app-capable" content="yes">
		
		<!-- Structured Data Context -->
		<meta name="schema-context" content="https://schema.org">
		<meta name="content-type" content="{% block content_type %}recipes and cooking{% endblock %}">
		<meta name="content-language" content="fr-FR">
		<meta name="geo.region" content="FR">
		<meta name="geo.placename" content="France">
		
		<!-- Favicon and App Icons -->
		<link rel="icon" href="{{ asset('img/logos/logo.png') }}" type="image/png">
		<link rel="apple-touch-icon" href="{{ asset('img/logos/logo.png') }}">
		<link rel="icon" type="image/png" sizes="32x32" href="{{ asset('img/logos/logo.png') }}">
		<link rel="icon" type="image/png" sizes="16x16" href="{{ asset('img/logos/logo.png') }}">
		<link rel="manifest" href="{{ asset('manifest.json') }}">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.7.3/dist/css/uikit.min.css"/>
		<link rel="stylesheet" href="{{ asset('css/main.css') }}">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Leckerli+One&display=swap" rel="stylesheet">
		<script src="{{ asset('js/uikit.js') }}" defer></script>
		<script src="{{ asset('js/lazy-loading.js') }}" defer></script>
		
		<!-- Structured Data JSON-LD for AI/LLM and SEO -->
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "{% block schema_type %}WebSite{% endblock %}",
			"name": "KocinaSpeed",
			"alternateName": "Kocina Speed",
			"description": "Plateforme de recettes rapides et délicieuses avec photos, vidéos et avis communauté. Spécialisé dans la cuisine française facile et accessible.",
			"url": "{{ app.request.schemeAndHttpHost }}",
			"logo": {
				"@type": "ImageObject",
				"url": "{{ app.request.schemeAndHttpHost }}{{ asset('img/logos/logo.png') }}",
				"width": 200,
				"height": 200
			},
			"sameAs": [
				"https://www.youtube.com/channel/UCkMEwuAnNMG21xfh_rmjkFg",
				"https://www.facebook.com/kocinaspeed",
				"https://www.instagram.com/kocinaspeed"
			],
			"potentialAction": {
				"@type": "SearchAction",
				"target": {
					"@type": "EntryPoint",
					"urlTemplate": "{{ app.request.schemeAndHttpHost }}{{ path('app_recipe_search') }}?query={search_term_string}"
				},
				"query-input": "required name=search_term_string"
			},
			"publisher": {
				"@type": "Organization",
				"name": "KocinaSpeed",
				"logo": {
					"@type": "ImageObject",
					"url": "{{ app.request.schemeAndHttpHost }}{{ asset('img/logos/logo.png') }}"
				},
				"foundingDate": "2025",
				"founder": {
					"@type": "Person",
					"name": "Christophe Mostefaoui",
					"alternateName": "Krismos64"
				},
				"contactPoint": {
					"@type": "ContactPoint",
					"telephone": "+33-XXX-XXX-XXX",
					"contactType": "customer service",
					"email": "support@kocinaspeed.fr",
					"availableLanguage": "French"
				},
				"address": {
					"@type": "PostalAddress",
					"addressCountry": "FR",
					"addressLocality": "France"
				}
			},
			"mainEntity": {
				"@type": "ItemList",
				"name": "Recettes KocinaSpeed",
				"description": "Collection de recettes rapides et délicieuses",
				"numberOfItems": "{% block recipe_count %}100+{% endblock %}",
				"itemListElement": [
					{
						"@type": "Recipe",
						"name": "Recettes Rapides",
						"description": "Des centaines de recettes faciles et rapides à préparer"
					}
				]
			},
			"breadcrumb": {
				"@type": "BreadcrumbList",
				"itemListElement": {% block breadcrumb_json %}[
					{
						"@type": "ListItem",
						"position": 1,
						"name": "Accueil",
						"item": "{{ app.request.schemeAndHttpHost }}{{ path('app_home') }}"
					}
				]{% endblock %}
			}
		}
		</script>
		
		{% block additional_schema %}{% endblock %}
		
		<!-- Performance and Core Web Vitals -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://cdnjs.cloudflare.com">
		<link rel="dns-prefetch" href="//fonts.googleapis.com">
		<link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
		<link rel="dns-prefetch" href="//cdn.jsdelivr.net">
		
		<!-- Styles personnalisés pour le chatbot avec effet néon -->
		<style>
			/* Styles pour le bouton du chatbot */
			iframe[src*="chatbase.co"] {
				transition: all 0.3s ease !important;
			}
			
			/* Animation optimisée pour le chatbot - plus légère */
			@keyframes subtleGlow {
				0%, 100% { 
					box-shadow: 0 0 10px rgba(255, 112, 67, 0.5);
				}
				50% { 
					box-shadow: 0 0 20px rgba(255, 112, 67, 0.7);
				}
			}
			
			@keyframes gentlePulse {
				0%, 100% { transform: scale(1); }
				50% { transform: scale(1.02); }
			}
			
			/* Styles optimisés pour le widget chatbase */
			div[id*="chatbase-bubble"], 
			div[class*="chatbase"], 
			button[class*="chatbase"],
			.chatbase-chat-bubble {
				border-radius: 25px !important;
				background: linear-gradient(145deg, #ff7043, #ff5722) !important;
				box-shadow: 0 0 15px rgba(255, 112, 67, 0.4) !important;
				animation: subtleGlow 4s ease-in-out infinite !important;
				border: 2px solid rgba(255, 112, 67, 0.8) !important;
				transition: all 0.2s ease !important;
				will-change: transform, box-shadow !important;
				transform: translateZ(0) !important;
				backface-visibility: hidden !important;
			}
			
			/* Hover effect optimisé pour le bouton du chatbot */
			div[id*="chatbase-bubble"]:hover, 
			div[class*="chatbase"]:hover,
			button[class*="chatbase"]:hover,
			.chatbase-chat-bubble:hover {
				transform: scale(1.05) translateZ(0) !important;
				box-shadow: 0 0 25px rgba(255, 112, 67, 0.6) !important;
				animation: none !important;
			}
			
			/* Styles optimisés pour la fenêtre de chat */
			div[id*="chatbase-chat"], 
			.chatbase-chat-window {
				border-radius: 20px !important;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2) !important;
				border: 1px solid rgba(255, 112, 67, 0.2) !important;
				background: white !important;
				transform: translateZ(0) !important;
				will-change: transform, opacity !important;
				transition: all 0.2s cubic-bezier(0.4, 0.0, 0.2, 1) !important;
			}
			
			/* Header de la fenêtre de chat */
			div[id*="chatbase-chat"] header,
			.chatbase-chat-header {
				background: linear-gradient(145deg, #ff7043, #ff5722) !important;
				border-radius: 18px 18px 0 0 !important;
				box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.2) !important;
			}
			
			/* Effets pour les messages */
			div[id*="chatbase-chat"] .message,
			.chatbase-message {
				border-radius: 15px !important;
				margin: 8px 0 !important;
				transition: all 0.3s ease !important;
			}
			
			/* Messages de l'utilisateur */
			div[id*="chatbase-chat"] .message.user,
			.chatbase-message.user {
				background: linear-gradient(145deg, #ff7043, #ff5722) !important;
				color: white !important;
				box-shadow: 0 2px 10px rgba(255, 112, 67, 0.3) !important;
			}
			
			/* Messages du bot */
			div[id*="chatbase-chat"] .message.bot,
			.chatbase-message.bot {
				background: linear-gradient(145deg, #f8f9fa, #e9ecef) !important;
				border: 1px solid rgba(255, 112, 67, 0.2) !important;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;
			}
			
			/* Input du chat */
			div[id*="chatbase-chat"] input,
			div[id*="chatbase-chat"] textarea,
			.chatbase-input {
				border-radius: 20px !important;
				border: 2px solid rgba(255, 112, 67, 0.3) !important;
				transition: all 0.3s ease !important;
			}
			
			div[id*="chatbase-chat"] input:focus,
			div[id*="chatbase-chat"] textarea:focus,
			.chatbase-input:focus {
				border-color: #ff7043 !important;
				box-shadow: 0 0 15px rgba(255, 112, 67, 0.3) !important;
			}
			
			/* Bouton d'envoi */
			div[id*="chatbase-chat"] button[type="submit"],
			.chatbase-send-button {
				background: linear-gradient(145deg, #ff7043, #ff5722) !important;
				border: none !important;
				border-radius: 20px !important;
				box-shadow: 0 4px 15px rgba(255, 112, 67, 0.4) !important;
				transition: all 0.3s ease !important;
			}
			
			div[id*="chatbase-chat"] button[type="submit"]:hover,
			.chatbase-send-button:hover {
				transform: translateY(-2px) !important;
				box-shadow: 0 6px 20px rgba(255, 112, 67, 0.6) !important;
			}
			
			/* Animation de typing */
			.chatbase-typing-indicator {
				background: linear-gradient(145deg, #ff7043, #ff5722) !important;
				border-radius: 15px !important;
				box-shadow: 0 0 15px rgba(255, 112, 67, 0.3) !important;
			}
			
			/* Masquer le branding Chatbase */
			div[id*="chatbase"] a[href*="chatbase.co"],
			div[class*="chatbase"] a[href*="chatbase.co"],
			.chatbase-powered-by,
			div[id*="chatbase-chat"] footer,
			div[id*="chatbase-chat"] .footer,
			div[id*="chatbase-chat"] [class*="powered"],
			div[id*="chatbase-chat"] [id*="powered"],
			div[class*="chatbase"] footer,
			div[class*="chatbase"] .footer,
			div[class*="chatbase"] [class*="powered"],
			div[class*="chatbase"] [id*="powered"],
			a[href*="chatbase.co"]:not(.kocinaspeed-keep) {
				display: none !important;
				opacity: 0 !important;
				visibility: hidden !important;
				height: 0 !important;
				overflow: hidden !important;
			}
			
			/* Masquer spécifiquement le texte "Powered by" */
			div[id*="chatbase-chat"] *:contains("Powered by"),
			div[class*="chatbase"] *:contains("Powered by"),
			div[id*="chatbase-chat"] *:contains("chatbase"),
			div[class*="chatbase"] *:contains("chatbase") {
				display: none !important;
			}
			
			/* Style pour masquer le footer du chat */
			div[id*="chatbase-chat"] > div:last-child,
			div[class*="chatbase-chat-window"] > div:last-child {
				border-bottom: none !important;
			}
			
			/* Responsive design amélioré pour mobile */
			@media (max-width: 768px) {
				/* Bouton du chatbot adapté pour mobile */
				div[id*="chatbase-bubble"], 
				div[class*="chatbase"], 
				button[class*="chatbase"],
				.chatbase-chat-bubble {
					bottom: 15px !important;
					right: 15px !important;
					width: 50px !important;
					height: 50px !important;
					transform: scale(0.9) !important;
				}
				
				/* Fenêtre de chat plein écran sur mobile */
				div[id*="chatbase-chat"],
				.chatbase-chat-window,
				iframe[src*="chatbase"] {
					position: fixed !important;
					width: 100% !important;
					height: 100% !important;
					max-width: 100% !important;
					max-height: 100% !important;
					top: 0 !important;
					left: 0 !important;
					right: 0 !important;
					bottom: 0 !important;
					border-radius: 0 !important;
					z-index: 99999 !important;
				}
				
				/* Header du chat adapté */
				div[id*="chatbase-chat"] header,
				.chatbase-chat-header {
					border-radius: 0 !important;
					padding: 10px !important;
					font-size: 14px !important;
				}
				
				/* Zone de messages adaptée */
				div[id*="chatbase-chat"] .message-container,
				.chatbase-messages {
					padding: 10px !important;
					max-height: calc(100vh - 150px) !important;
					overflow-y: auto !important;
				}
				
				/* Messages adaptés */
				div[id*="chatbase-chat"] .message,
				.chatbase-message {
					font-size: 14px !important;
					padding: 8px 12px !important;
					max-width: 85% !important;
				}
				
				/* Zone d'input adaptée */
				div[id*="chatbase-chat"] .input-container,
				.chatbase-input-container {
					position: fixed !important;
					bottom: 0 !important;
					left: 0 !important;
					right: 0 !important;
					padding: 10px !important;
					background: white !important;
					border-top: 1px solid rgba(255, 112, 67, 0.2) !important;
				}
				
				/* Input et bouton adaptés */
				div[id*="chatbase-chat"] input,
				div[id*="chatbase-chat"] textarea,
				.chatbase-input {
					font-size: 16px !important; /* Évite le zoom sur iOS */
					padding: 10px !important;
					width: calc(100% - 60px) !important;
				}
				
				div[id*="chatbase-chat"] button[type="submit"],
				.chatbase-send-button {
					width: 40px !important;
					height: 40px !important;
					padding: 8px !important;
					font-size: 14px !important;
				}
				
				/* Désactiver les animations lourdes sur mobile */
				div[id*="chatbase-bubble"], 
				div[class*="chatbase"], 
				button[class*="chatbase"] {
					animation: none !important;
					box-shadow: 0 2px 10px rgba(255, 112, 67, 0.3) !important;
				}
				
				/* Overlay pour fermer le chat */
				.chatbase-overlay {
					position: fixed !important;
					top: 0 !important;
					left: 0 !important;
					right: 0 !important;
					bottom: 0 !important;
					background: rgba(0, 0, 0, 0.5) !important;
					z-index: 99998 !important;
				}
			}
			
			/* Petits écrans (iPhone SE, etc.) */
			@media (max-width: 375px) {
				div[id*="chatbase-bubble"], 
				div[class*="chatbase"], 
				button[class*="chatbase"] {
					width: 45px !important;
					height: 45px !important;
					bottom: 10px !important;
					right: 10px !important;
				}
				
				div[id*="chatbase-chat"] .message,
				.chatbase-message {
					font-size: 13px !important;
					padding: 6px 10px !important;
				}
				
				div[id*="chatbase-chat"] input,
				div[id*="chatbase-chat"] textarea,
				.chatbase-input {
					font-size: 16px !important;
					padding: 8px !important;
				}
			}
			
			/* Mode paysage sur mobile */
			@media (max-height: 500px) and (orientation: landscape) {
				div[id*="chatbase-chat"] .message-container,
				.chatbase-messages {
					max-height: calc(100vh - 100px) !important;
				}
				
				div[id*="chatbase-chat"] header,
				.chatbase-chat-header {
					padding: 5px 10px !important;
					font-size: 12px !important;
				}
				
				div[id*="chatbase-chat"] .input-container,
				.chatbase-input-container {
					padding: 5px !important;
				}
				
				div[id*="chatbase-chat"] input,
				div[id*="chatbase-chat"] textarea,
				.chatbase-input {
					padding: 5px 10px !important;
					font-size: 14px !important;
				}
			}
		</style>
	</head>
	<body>
		<!-- Section Navbar -->
		<nav class="uk-navbar-container uk-letter-spacing-small">
			<div class="uk-container">
				<div
					class="uk-navbar" data-uk-navbar>
					<!-- Navbar Left (Logo et Navigation) -->
					<div class="uk-navbar-left">
						<a class="uk-navbar-item uk-logo" href="{{ path('app_home') }}">
							Kocinaspeed
						</a>
						<!-- Menu principal visible sur desktop -->
						<ul class="uk-navbar-nav uk-visible@m uk-margin-large-left">
							<li class="uk-active">
								<a href="{{ path('app_home') }}">Accueil</a>
							</li>
							<li>
								<a href="{{ path('app_recipe_index') }}">Recettes</a>
							</li>
							<li>
								<a href="{{ path('app_contact') }}">Contact</a>
							</li>
							<li>
								<a href="#video-modal" uk-toggle>Présentation vidéo de Kocinaspeed</a>
							</li>
						</ul>
					</div>

					<!-- Navbar Right (Logo YouTube déplacé à droite en mode desktop) -->
					<div class="uk-navbar-right">
						<div class="uk-visible@m">
							<a href="https://www.youtube.com/channel/UCkMEwuAnNMG21xfh_rmjkFg" target="_blank">
								<img src="{{ asset('img/logoyoutube.jpg') }}" alt="YouTube Kocinaspeed" width="200" height="200">
							</a>
						</div>
						<!-- Menu Burger pour mobile -->
						<a class="uk-navbar-toggle uk-hidden@m" href="#offcanvas" data-uk-toggle>
							<span data-uk-navbar-toggle-icon></span>
						</a>
					</div>
				</div>
			</div>
		</nav>
		<!-- Section Podcast compacte -->
		<div class="uk-section uk-section-xsmall uk-padding-small">
			<div class="uk-container">
				<div class="uk-card uk-card-small uk-card-hover uk-border-rounded uk-padding-small uk-flex uk-flex-middle uk-flex-center@s uk-flex-wrap uk-flex-nowrap@m" 
					 style="background: linear-gradient(45deg, rgba(255, 112, 67, 0.1), rgba(232, 245, 233, 0.1)); border: 1px solid rgba(255, 112, 67, 0.2);">
					
					<!-- Micro animé compact -->
					<div class="uk-flex uk-flex-middle uk-margin-small-right">
						<div class="uk-animation-fade uk-transition-toggle" tabindex="0">
							<svg width="40" height="40" viewbox="0 0 100 100" style="color: #ff7043;" class="uk-animation-stroke">
								<circle cx="50" cy="50" r="40" fill="none" stroke="currentColor" stroke-width="3" opacity="0.3"/>
								<path d="M50,25 L50,55 M45,55 L55,55 M50,55 C45,55 42,58 42,62 C42,66 45,70 50,70 C55,70 58,66 58,62 C58,58 55,55 50,55" stroke="currentColor" fill="none" stroke-width="2.5"/>
								<circle cx="50" cy="37" r="10" fill="currentColor"/>
							</svg>
						</div>
					</div>

					<!-- Contenu compact -->
					<div class="uk-flex uk-flex-column uk-flex-middle uk-text-center uk-text-left@m uk-flex-1">
						<h3 class="uk-text-bold uk-margin-remove uk-text-small uk-animation-slide-left" style="font-family: 'Poppins', sans-serif; color: #ff7043; font-size: 0.9rem;">
							🎙️ Découvrez KocinaSpeed en podcast !
						</h3>
						<div class="uk-margin-xsmall-top">
							<audio controls preload="none" class="uk-width-small uk-border-rounded" style="height: 30px; background: rgba(255, 112, 67, 0.05);">
								<source src="{{ asset('audio/kocinaspeed-podcast.mp3') }}" type="audio/mpeg">
								Votre navigateur ne supporte pas l'audio.
							</audio>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Section principale -->
		{% block body %}{% endblock %}

		<!-- Section Footer -->
		<footer class="uk-section uk-section-secondary uk-padding-large uk-light">
			<div class="uk-container">
				<div
					class="uk-grid-large uk-child-width-1-3@m uk-flex-middle" data-uk-grid>
					<!-- Colonne 1 : Logo et présentation -->
					<div class="uk-text-center uk-text-left@m">
						<a href="{{ path('app_home') }}" class="uk-logo">
							<img src="{{ asset('img/logos/logo.png') }}" alt="Logo" width="90" height="90" class="uk-border-circle">
						</a>
						<p class="uk-margin-remove-top">KocinaSpeed - Recettes rapides et délicieuses pour les passionnés de cuisine.</p>
					</div>

					<!-- Colonne 2 : Liens de navigation rapides -->
					<div class="uk-text-center uk-text-left@m">
						<h4 class="uk-heading-line uk-text-bold">
							<span>Navigation</span>
						</h4>
						<ul class="uk-list uk-list-divider">
							<li>
								<a href="{{ path('app_home') }}" class="uk-link-text">Accueil</a>
							</li>
							<li>
								<a href="{{ path('app_recipe_index') }}" class="uk-link-text">Recettes</a>
							</li>
							<li>
								<a href="{{ path('app_contact') }}" class="uk-link-text">Contact</a>
							</li>
							<li>
								<a href="{{ path('app_mentions_legales') }}" class="uk-link-text">Mentions Légales</a>
							</li>
						</ul>
					</div>

					<!-- Colonne 3 : Réseaux sociaux et contact -->
					<div class="uk-text-center uk-flex uk-flex-column uk-flex-middle">
						<h4 class="uk-heading-line uk-text-bold">
							<span>Suivez-nous</span>
						</h4>
						<div class="uk-margin-small">
							<a href="https://www.youtube.com/channel/UCkMEwuAnNMG21xfh_rmjkFg" target="_blank" class="uk-icon-button" uk-icon="youtube" style="color: #FF0000;"></a>
							<a href="#" target="_blank" class="uk-icon-button" uk-icon="facebook" style="color: #4267B2;"></a>
							<a href="#" target="_blank" class="uk-icon-button" uk-icon="instagram" style="color: #E1306C;"></a>
						</div>
						<p class="uk-margin-small-top uk-text-small">Contactez-nous :
							<br><a href="mailto:support@kocinaspeed.fr" class="uk-link-text">support@kocinaspeed.fr</a>
						</p>
					</div>
				</div>

				<!-- Ligne de séparation et copyright -->
				<hr class="uk-divider-icon">
				<div class="uk-text-center uk-text-small">
					<p>© 2025 KocinaSpeed. Réalisé par
						<a href="https://krismos.fr" target="_blank" class="uk-link-reset">Krismos64 (Christophe Mostefaoui)</a>. Tous droits réservés.</p>
				</div>
			</div>
		</footer>

		<!-- Menu Offcanvas pour mobile -->
		<div id="offcanvas" data-uk-offcanvas="flip: true; overlay: true">
			<div class="uk-offcanvas-bar">
				<a class="uk-logo" href="{{ path('app_home') }}">Kocinaspeed</a>
				<button class="uk-offcanvas-close" type="button" data-uk-close="ratio: 1.2"></button>
				<!-- Menu principal Offcanvas -->
				<ul class="uk-nav uk-nav-primary uk-nav-offcanvas uk-margin-medium-top uk-text-center">
					<li class="uk-active">
						<a href="{{ path('app_home') }}">Accueil</a>
					</li>
					<li>
						<a href="{{ path('app_recipe_index') }}">Recettes</a>
					</li>
					<li>
						<a href="{{ path('app_contact') }}">Contact</a>
					</li>
					<li>
						<a href="#video-modal" uk-toggle>Présentation vidéo de Kocinaspeed</a>
					</li>
				</ul>

				<!-- Bouton de Connexion ou Espace Admin dans le Offcanvas (Icone) -->
				<div class="uk-margin-medium-top uk-text-center">
					{% if is_granted('IS_AUTHENTICATED_FULLY') %}
						{% if is_granted('ROLE_ADMIN') %}
							<a class="uk-icon-link" uk-icon="cog" href="{{ path('admin') }}"></a>
						{% else %}
							<a class="uk-icon-link" uk-icon="user" href="{{ path('app_home') }}"></a>
						{% endif %}
					{% else %}
						<a class="uk-icon-link" uk-icon="sign-in" href="{{ path('app_login') }}"></a>
					{% endif %}
				</div>

				<!-- Logo YouTube dans le Offcanvas pour mobile -->
				<div class="uk-margin-medium-top uk-text-center">
					<a href="https://www.youtube.com/channel/UCkMEwuAnNMG21xfh_rmjkFg" target="_blank">
						<img src="{{ asset('img/logoyoutube.jpg') }}" alt="YouTube Kocinaspeed" width="200" height="200">
					</a>
				</div>

				<!-- Logo dans le Offcanvas -->
				<div class="uk-margin-medium-top uk-text-center">
					<a href="{{ path('app_home') }}">
						<img src="{{ asset('img/logos/logo.png') }}" alt="Logo" width="150" height="150" class="uk-margin-small-top">
					</a>
				</div>
			</div>
		</div>

		<!-- Modal Video -->
		<div id="video-modal" uk-modal>
			<div class="uk-modal-dialog uk-modal-body uk-padding-remove">
				<button class="uk-modal-close-default" type="button" uk-close></button>
				<div class="uk-responsive-width">
					<iframe src="https://www.youtube.com/embed/sDklFFp7uuk" width="100%" height="315" frameborder="0" allowfullscreen uk-video></iframe>
				</div>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/uikit@3.7.3/dist/js/uikit.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/uikit@3.7.3/dist/js/uikit-icons.min.js"></script>
		<script src="{{ asset('js/uikit.js') }}" defer></script>
		{% block javascripts %}{% endblock %}

		<!-- Script pour la bulle de chat Chatbase avec améliorations -->
		<script>
			window.embeddedChatbotConfig = {
				chatbotId: "h7h4r15Lk4FkE9FhbINev",
				domain: "www.chatbase.co"
			}
			
			// Préchargement et optimisation du chatbot
			document.addEventListener('DOMContentLoaded', function() {
				// Précharger l'iframe du chatbot dès le chargement de la page
				const preloadChatbot = () => {
					const link = document.createElement('link');
					link.rel = 'preconnect';
					link.href = 'https://www.chatbase.co';
					document.head.appendChild(link);
					
					const linkDns = document.createElement('link');
					linkDns.rel = 'dns-prefetch';
					linkDns.href = '//www.chatbase.co';
					document.head.appendChild(linkDns);
				};
				preloadChatbot();
				// Fonction pour supprimer le branding Chatbase
				function removeChatbaseBranding() {
					try {
						// Supprimer les liens vers chatbase.co
						const chatbaseLinks = document.querySelectorAll('a[href*="chatbase.co"]');
						chatbaseLinks.forEach(link => {
							if (!link.classList.contains('kocinaspeed-keep')) {
								link.style.display = 'none';
								try {
									if (link.parentNode) {
										link.parentNode.removeChild(link);
									}
								} catch (e) {
									// Élément déjà supprimé
								}
							}
						});
						
						// Supprimer les éléments contenant "Powered by" de manière plus sécurisée
						const elementsToRemove = [];
						const allElements = document.querySelectorAll('div, span, p, a');
						
						allElements.forEach(element => {
							if (element.textContent && element.textContent.trim().includes('Powered by')) {
								elementsToRemove.push(element);
							}
							if (element.textContent && element.textContent.toLowerCase().trim().includes('chatbase')) {
								const parent = element.parentNode;
								if (parent && parent.tagName === 'A' && parent.href && parent.href.includes('chatbase.co')) {
									elementsToRemove.push(parent);
								}
							}
						});
						
						// Supprimer les éléments collectés
						elementsToRemove.forEach(element => {
							try {
								element.style.display = 'none';
								if (element.parentNode) {
									element.parentNode.removeChild(element);
								}
							} catch (e) {
								// Élément déjà supprimé ou inaccessible
							}
						});
						
					} catch (error) {
						// Erreur silencieuse pour éviter de casser l'interface
						console.log('Erreur lors de la suppression du branding:', error);
					}
				}
				
				// Optimiser le chargement du chatbot
				let chatbotReady = false;
				
				// Attendre un court délai avant l'initialisation
				setTimeout(function() {
					chatbotReady = true;
					// Supprimer le branding immédiatement
					removeChatbaseBranding();
					
					// Répéter moins fréquemment pour économiser les ressources
					let attempts = 0;
					const brandingInterval = setInterval(function() {
						if (attempts < 3) {
							removeChatbaseBranding();
						}
						attempts++;
						if (attempts >= 3) {
							clearInterval(brandingInterval);
						}
					}, 2000);
					
					// Observer les changements dans le DOM pour supprimer le branding dynamiquement
					if (typeof MutationObserver !== 'undefined') {
						const observer = new MutationObserver(function(mutations) {
							mutations.forEach(function(mutation) {
								if (mutation.addedNodes.length) {
									setTimeout(removeChatbaseBranding, 100);
								}
							});
						});
						
						// Vérifier que l'élément existe avant d'observer
						const targetNode = document.body || document.documentElement;
						if (targetNode && typeof targetNode.nodeType !== 'undefined') {
							try {
								observer.observe(targetNode, {
									childList: true,
									subtree: true
								});
							} catch (error) {
								console.log('Observer non disponible:', error);
							}
						}
					}
					
					// Rechercher et personnaliser le bouton du chatbot avec optimisation
					const chatbotElements = document.querySelectorAll('[id*="chatbase"], [class*="chatbase"]');
					chatbotElements.forEach(function(element) {
						// Ajouter une classe personnalisée
						element.classList.add('kocinaspeed-chatbot');
						
						// Optimisation pour réduire les reflows
						element.style.willChange = 'transform, opacity';
						element.style.transform = 'translateZ(0)';
					});
					
					// Animation d'apparition optimisée du bouton
					const chatButton = document.querySelector('[id*="chatbase-bubble"]');
					if (chatButton) {
						// Animation d'introduction plus rapide et fluide
						chatButton.style.opacity = '0';
						chatButton.style.transform = 'scale(0.8) translateZ(0)';
						
						requestAnimationFrame(function() {
							chatButton.style.transition = 'all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1)';
							chatButton.style.opacity = '1';
							chatButton.style.transform = 'scale(1) translateZ(0)';
						});
						
						// Ajouter un tooltip personnalisé
						const tooltip = document.createElement('div');
						tooltip.innerHTML = '💬 Posez-moi une question !';
						tooltip.style.cssText = `
							position: absolute;
							bottom: 70px;
							right: -10px;
							background: linear-gradient(145deg, #ff7043, #ff5722);
							color: white;
							padding: 8px 15px;
							border-radius: 20px;
							font-size: 12px;
							font-family: 'Poppins', sans-serif;
							box-shadow: 0 4px 15px rgba(255, 112, 67, 0.4);
							opacity: 0;
							transform: translateY(10px);
							transition: all 0.3s ease;
							pointer-events: none;
							z-index: 10000;
							white-space: nowrap;
						`;
						
						chatButton.appendChild(tooltip);
						
						// Animation du tooltip optimisée
						setTimeout(function() {
							requestAnimationFrame(function() {
								tooltip.style.opacity = '1';
								tooltip.style.transform = 'translateY(0)';
							});
							
							setTimeout(function() {
								tooltip.style.opacity = '0';
								tooltip.style.transform = 'translateY(-10px)';
							}, 3000);
						}, 1500);
					}
				}, 500); // Réduction du délai initial
			});
		</script>
		<!-- Chargement optimisé du chatbot avec préchargement -->
		<link rel="preload" href="https://www.chatbase.co/embed.min.js" as="script">
		<script src="https://www.chatbase.co/embed.min.js" chatbotid="h7h4r15Lk4FkE9FhbINev" domain="www.chatbase.co" async></script>
	</body>
</html>
