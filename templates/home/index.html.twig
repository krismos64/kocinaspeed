{% extends 'base.html.twig' %}

{% block title %}Kocinaspeed
{% endblock %}

{% block body %}
	<div class="uk-container">
		<div class="uk-border-rounded-large uk-background-top-center uk-background-cover uk-background-norepeat uk-light uk-inline uk-overflow-hidden uk-width-1-1" style="background-image: url('{{ asset('img/background1.jpg') }}');">
			<div class="uk-position-cover uk-header-overlay"></div>
			<div class="uk-position-relative" data-uk-grid>
				<div class="uk-width-1-2@m uk-flex uk-flex-middle">
					<div class="uk-padding-large uk-padding-remove-right">
						<h1 class="uk-heading-small uk-margin-remove-top" style="font-family: 'Dancing Script', cursive; font-size: 3rem; color: #4e342e;">
							Découvrez nos meilleures recettes
						</h1>
					</div>
				</div>
				<div class="uk-width-expand@m"></div>
			</div>
		</div>
	</div>

	<!-- Section de présentation avec une vignette (card) et un titre personnalisé -->
	<div class="uk-section uk-section-muted uk-padding uk-position-relative">
		<div class="uk-container uk-text-center">
			<div
				class="uk-card uk-card-default uk-card-body uk-border-rounded uk-box-shadow-large uk-padding-large">
				<!-- Animation d'image ajoutée sous la carte -->
				<div class="uk-animation-kenburns uk-inline-clip uk-transition-toggle uk-margin-large-top" tabindex="0">
					<img src="{{ asset('img/logo2.png') }}" alt="logo kocinaspeed" class="uk-border-rounded-large" style="max-width: 100%; height: auto;">
				</div>

				<!-- Titre personnalisé avec une couleur différente -->
				<h2 class="uk-heading-line uk-text-bold uk-animation-slide-top-small" style="font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: #ff7043;">
					<span>Bienvenue sur
						<strong>Kocinaspeed</strong>
					</span>
				</h2>

				<p class="uk-text-lead uk-animation-fade uk-margin-medium-top" style="font-family: 'Roboto', sans-serif; color: #4e342e;">
					À titre amateur, notre site a pour objectif de vous offrir des
					<strong>recettes rapides</strong>,
					<strong>faciles à préparer</strong>, et surtout
					<strong>délicieuses</strong>.
				</p>

				<p class="uk-text-lead uk-animation-fade" style="font-family: 'Roboto', sans-serif; color: #4e342e;">
					Que vous soyez pressé ou que vous cherchiez une idée pour épater vos invités,
					<strong>Kocinaspeed</strong>
					a une solution adaptée à vos
					<em>envies culinaires</em>.
				</p>

				<!-- Liste des avantages avec une animation -->
				<ul class="uk-list uk-list-large uk-list-bullet uk-text-left uk-margin-large-top uk-animation-slide-bottom-small" style="color: #4e342e; font-family: 'Poppins', sans-serif;">
					<li>L'intelligence artificielle à votre service !</li>
					<li>Explorez nos différentes catégories de recettes</li>
					<li>Trouvez rapidement vos recettes grâce à la barre de recherche</li>
					<li>Utilisez notre nouveau Chatbot, il vous guidera !</li>
					<li>Laissez vos avis et partagez vos réalisations et même vos photos avec d'autres passionnés</li>
					<li>Des mises à jour régulières avec de nouvelles recettes pour vous inspirer</li>
					<li>Des courtes vidéos de réalisation sur certaines recettes</li>
					<li>N'hésitez pas à nous contacter pour des suggestions ou partenariat !</li>
				</ul>
			</div>
		</div>
	</div>

	<!-- Section affichant les recettes -->
	<div class="uk-section uk-section-default" style="background: linear-gradient(135deg, #f3e5f5, #e8f5e9);">
		<div class="uk-container">
			<div
				data-uk-grid>
				<!-- Colonne de gauche pour les catégories -->
				<div class="uk-width-1-4@m sticky-container">
					<div data-uk-sticky="offset: 100; bottom: true; media: @m;" class="uk-border-rounded uk-background-cover" style="background: linear-gradient(135deg, rgba(225, 190, 231, 0.8), rgba(200, 230, 201, 0.8)); padding: 15px; font-family: 'Poppins', sans-serif;">
						<h2 class="uk-text-bold uk-light">Nos recettes</h2>
						<ul class="uk-nav-default uk-nav-parent-icon uk-nav-filter uk-margin-medium-top" data-uk-nav>
							{% for category_key, category_label in constant('App\\Entity\\Recipe::CATEGORIES') %}
								<li class="uk-parent">
									<a href="#" class="uk-light">{{ category_label }}</a>
									<ul class="uk-nav-sub">
										{% set category_recipes = allRecipes|filter(recipe => recipe.category == category_key) %}
										{% if category_recipes|length > 0 %}
											{% for recipe in category_recipes %}
												<li>
													<a href="{{ path('app_recipe_details', { slug: recipe.slug }) }}" class="uk-light">{{ recipe.name }}</a>
												</li>
											{% endfor %}
										{% else %}
											<li>
												<span class="uk-light">Aucune recette disponible</span>
											</li>
										{% endif %}
									</ul>
								</li>
							{% endfor %}
						</ul>
					</div>
				</div>

				<!-- Colonne de droite pour la liste des recettes -->
				<div class="uk-width-expand@m">
					<div
						data-uk-grid>
						<!-- Barre de recherche avec un dégradé subtil -->
						<div class="uk-width-expand@m uk-margin-bottom">
							<form class="uk-search uk-search-default uk-width-1-1" action="{{ path('app_recipe_search') }}" method="get" style="background: linear-gradient(135deg, #f3e5f5, #e8f5e9); border-radius: 10px; font-family: 'Poppins', sans-serif;">
								<span data-uk-search-icon></span>
								<input class="uk-search-input uk-text-small uk-border-rounded uk-form-large" type="search" placeholder="Recherche par nom de recette..." name="query" style="background: transparent; border: none; color: #4e342e;">
							</form>
						</div>
					</div>

					<!-- Titre pour la section des recettes -->
					<h2 class="uk-heading-line uk-text-center uk-margin-medium-bottom" style="font-family: 'Dancing Script', cursive; color: #4e342e;">
						<span>Nos dernières recettes postées</span>
					</h2>

					<!-- Affichage des 6 dernières recettes avec un dégradé subtil sur les cartes -->
					<div class="uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-3@m uk-grid-match" data-uk-grid>
						{% for recipe in recipes %}
							<div>
								<div class="uk-card uk-card-default uk-card-hover uk-card-body fixed-card-height uk-border-rounded" style="background: linear-gradient(135deg, rgba(255, 245, 238, 0.9), rgba(232, 245, 233, 0.9));">
									<div class="uk-card-media-top uk-cover-container fixed-image-container">
										{% if recipe.images|length > 0 %}
											<img class="uk-cover" src="{{ asset('uploads/recipes/' ~ recipe.images|first.imagePath) }}" alt="{{ recipe.name }}" data-uk-cover>
										{% else %}
											<img class="uk-cover" src="{{ asset('img/default-image.jpg') }}" alt="{{ recipe.name }}" data-uk-cover>
										{% endif %}
										<canvas width="300" height="200"></canvas>
									</div>
									<div>
										<h3 class="uk-card-title uk-text-500 uk-margin-small-bottom uk-margin-top" style="font-family: 'Poppins', sans-serif; color: #4e342e;">{{ recipe.name }}</h3>
									</div>
									<a href="{{ path('app_recipe_details', { slug: recipe.slug }) }}" class="uk-position-cover"></a>
								</div>
							</div>
						{% endfor %}
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
